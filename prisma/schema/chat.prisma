model Chat {
    id        String    @id @unique @default(cuid())
    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
    title     String
    emoji     String?
    userId    String
    focusMode FocusMode
    modelType ModelType
    user      User      @relation(fields: [userId], references: [id])
    messages  Message[]
}

model Message {
    id        String   @id @unique @default(cuid())
    createdAt DateTime @default(now())
    pending   Boolean?
    content   String?
    chatId    String
    chat      Chat     @relation(fields: [chatId], references: [id])
    role      ChatRole
    sources   Source[]
    metadata  Json?
}

model Source {
    id            String   @id @unique @default(cuid())
    accessedAt    DateTime @default(now())
    url           String
    title         String
    pageContent   String
    messageId     String
    message       Message  @relation(fields: [messageId], references: [id])
    originalIndex Int
}

enum ModelType {
    Speed
    Balanced
    Quality
}

enum FocusMode {
    All
    Academic
    Writing
    WolframAlpha
    Youtube
    Reddit
}

enum ChatRole {
    Assistant
    User
}
